<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>o.o</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div class="background-image"></div>
    <div class="profile-section">
      <img src="profile.png" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ" class="profile-picture">
      <h2>Little King</h2>
      <p class="username">@Mahmmoud</p>
      <div class="social-links">
        <a href="#"><img src="youtube.png" alt="YouTube"></a>
        <a href="#"><img src="instagram.png" alt="Instagram"></a>
        <a href="#"><img src="discord.png" alt="Discord"></a>
        <a href="#"><img src="telegram.png" alt="Telegram"></a>
      </div>
    </div>
    <div class="visitor-count">
      <img src="eye-icon.png" alt="Ø¹Ù„Ø§Ù…Ø© Ø¹ÙŠÙ†" class="eye-icon" />
      <span id="visitor-count">1</span>
    </div>
  </div>

  <div class="music-box" id="musicBox">
    <img id="currentSongImage" src="cover1.jpg" alt="Current Song" />
  </div>

  <div class="song-list" id="songList">
    <!-- Ø£ØºÙ†ÙŠØ© 1 -->
    <div class="song" data-src="Ø§ØºÙ†ÙŠØ©-Ø¯Ù…ØªÙŠ-Ø§Ù…ÙŠ-Ø±ÙŠÙ…ÙƒØ³-128Kbps-44KHz.m4a" data-img="cover1.jpg" data-title="Ø¯Ù…ØªÙŠ ÙŠØ§ Ø£Ù…ÙŠ">
      <div class="song-info">
        <img src="cover1.jpg" alt="cover" />
        <span>Ø¯Ù…ØªÙŠ ÙŠØ§ Ø£Ù…ÙŠ</span>
      </div>
      <div class="song-controls">
        <button class="song-play-btn">â–¶</button>
        <div class="song-right">
          <span class="song-time">0:00 / 0:00</span>
          <button class="song-restart-btn">ğŸ”</button>
        </div>
      </div>
      <div class="progress-bar"><div class="progress-fill"></div></div>
    </div>

    <!-- Ø£ØºÙ†ÙŠØ© 2 -->
    <div class="song" data-src="Ø´Ù…Ø³-Ø³Ø·Ø¹Øª-ÙˆØ§Ù„Ø¬Ùˆ-Ø¬Ù…ÙŠÙ„-Ø±ÙŠÙ…ÙƒØ³-Ù…Ø¹-Ø§Ù„ÙƒÙ„Ù…Ø§Øª-128Kbps-44KHz.m4a" data-img="cover2.jpg" data-title="Ø§Ù„Ø´Ù…Ø³ Ø³Ø·Ø¹Øª ÙˆØ§Ù„Ø¬Ùˆ Ø¬Ù…ÙŠÙ„">
      <div class="song-info">
        <img src="cover2.jpg" alt="cover" />
        <span>Ø§Ù„Ø´Ù…Ø³ Ø³Ø·Ø¹Øª ÙˆØ§Ù„Ø¬Ùˆ Ø¬Ù…ÙŠÙ„</span>
      </div>
      <div class="song-controls">
        <button class="song-play-btn">â–¶</button>
        <div class="song-right">
          <span class="song-time">0:00 / 0:00</span>
          <button class="song-restart-btn">ğŸ”</button>
        </div>
      </div>
      <div class="progress-bar"><div class="progress-fill"></div></div>
    </div>
  </div>

  <audio id="audioPlayer"></audio>

  <script>
  let visitorCount = 160;
  if (localStorage.getItem("visitorCount")) {
    visitorCount = parseInt(localStorage.getItem("visitorCount")) + 1;
  }
  localStorage.setItem("visitorCount", visitorCount);
  document.getElementById("visitor-count").innerText = `${visitorCount}`;

  const musicBox = document.getElementById("musicBox");
  const songList = document.getElementById("songList");
  const audioPlayer = document.getElementById("audioPlayer");
  const currentSongImage = document.getElementById("currentSongImage");

  musicBox.addEventListener("click", () => {
    songList.classList.toggle("show");
  });

  let currentSong = null;
  let currentPlayBtn = null;
  let currentProgress = null;
  let currentTimeDisplay = null;

  document.querySelectorAll(".song").forEach((song) => {
    const playBtn = song.querySelector(".song-play-btn");
    const restartBtn = song.querySelector(".song-restart-btn");
    const progressFill = song.querySelector(".progress-fill");
    const timeDisplay = song.querySelector(".song-time");

    const src = song.getAttribute("data-src");
    const img = song.getAttribute("data-img");

    // ØªØ´ØºÙŠÙ„ Ø£Ùˆ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£ØºÙ†ÙŠØ©
    playBtn.addEventListener("click", () => {
      // Ø¥Ø°Ø§ Ø§Ù„Ø£ØºÙ†ÙŠØ© Ù†ÙØ³Ù‡Ø§
      if (audioPlayer.src.includes(src)) {
        if (audioPlayer.paused) {
          audioPlayer.play();
          playBtn.textContent = "â˜";
        } else {
          audioPlayer.pause();
          playBtn.textContent = "â–¶";
        }
        return;
      }

      // Ø£ØºÙ†ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© â†’ Ø£ÙˆÙ‚Ù Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
      if (currentSong && currentPlayBtn && currentProgress && currentTimeDisplay) {
        currentPlayBtn.textContent = "â–¶";
        currentProgress.style.width = "0%";
        currentTimeDisplay.textContent = "0:00 / 0:00";
      }

      // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£ØºÙ†ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
      currentSong = song;
      currentPlayBtn = playBtn;
      currentProgress = progressFill;
      currentTimeDisplay = timeDisplay;

      audioPlayer.src = src;
      currentSongImage.src = img;
      audioPlayer.play();
      playBtn.textContent = "â˜";

      audioPlayer.ontimeupdate = () => {
        if (!audioPlayer.duration) return;
        const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
        progressFill.style.width = `${percent}%`;

        const currentMin = Math.floor(audioPlayer.currentTime / 60);
        const currentSec = Math.floor(audioPlayer.currentTime % 60).toString().padStart(2, "0");

        const totalMin = Math.floor(audioPlayer.duration / 60);
        const totalSec = Math.floor(audioPlayer.duration % 60).toString().padStart(2, "0");

        timeDisplay.textContent = `${currentMin}:${currentSec} / ${totalMin}:${totalSec}`;
      };
    });

    // Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
    restartBtn.addEventListener("click", () => {
      if (audioPlayer.src.includes(src)) {
        audioPlayer.currentTime = 0;
        audioPlayer.play();
        playBtn.textContent = "â˜";
      }
    });
  });

  // Ø¹Ù†Ø¯Ù…Ø§ ØªÙ†ØªÙ‡ÙŠ Ø§Ù„Ø£ØºÙ†ÙŠØ© ØªØ±Ø¬Ø¹ Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„
  audioPlayer.addEventListener("ended", () => {
    if (currentPlayBtn) currentPlayBtn.textContent = "â–¶";
  });
  </script>
